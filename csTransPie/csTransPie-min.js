(function(a){a.fn.cTPCheckBox=function(){return this.each(function(){checkbox=a(this);null==checkbox.data("val")&&(checkbox.data("val",this.checked),aElem=a('<span class="cTPCheckboxElem"></span>'),checkbox.wrap('<span class="cTPCheckbox"></span>').parent().prepend(aElem),this.checked&&aElem.addClass("cTPChecked"),checkbox.on("change",function(){this.checked&&aElem.addClass("cTPChecked")||aElem.removeClass("cTPChecked")}))})};a.fn.cTPRadio=function(){return this.each(function(){radio=a(this);null==radio.data("val")&&(radio.data("val",this.checked),aElem=a('<span class="cTPRadioElem"></span>'),radio.wrap('<span class="cTPRadio"></span>').parent().prepend(aElem),this.checked&&aElem.addClass("cTPCheckedR"),radio.on("change",function(){aElem.addClass("cTPCheckedR");a('input[name="'+radio.attr("name")+'"]',this.form).not(radio).each(function(){"radio"==a(this).attr("type")&&a(this).prev().removeClass("cTPCheckedR")})}))})};a.fn.cTPFile=function(){return this.each(function(){file=a(this);file.hasClass("cTPHiddenFile")||(title="",file.attr("title")&&(title='title="'+file.attr("title")+'"',file.removeAttr("title")),buttonText="Browse",file.data("button")&&(buttonText=file.data("button")),file.addClass("cTPHiddenFile").wrap("<span "+title+' class="cTPFile"></span>').parent().prepend('<input readonly="readonly" type="text" class="cTPFileInput" /></span><input type="button" value="'+buttonText+'" />'),file.attr("disabled")&&file.parent().find("input").addClass("cTPDisabled"),a(file.parent()).on("click","input[type=button]",function(){a("input[type=file]",a(this).parent()).click()}),file.on("click",function(){if(a(this).attr("disabled"))return false}),file.on("change",function(){a(".cTPFileInput",a(this).parent()).val(a(this).val().split("\\").pop())}))})};a.fn.cTPSelect=function(){return this.each(function(){select=a(this);!select.data("styled")&&!select.attr("multiple")&&(select.css("width",select.outerWidth()+30+"px"),select.wrap('<span class="cTPSelect"></span>').parent().prepend('<span class="cTPSelectBar">'+a("option:selected",select).text()+'</span><span class="cTPSelectOpen">&#9660;</span>'),select.attr("disabled")&&$wrapper.addClass("cTPDisabled"),select.on("change",function(){a(".cTPSelectBar",a(this).parent()).text(a("option:selected",a(this).parent()).text())}),select.data("styled","1"))})};a.fn.cTPTitle=function(){return this.each(function(){title=a(this);a(this).next().hasClass("cTPTitle")||(titleText=title.attr("title"),title.removeAttr("title"),title.hover(function(){w=title.width();h=title.height();var b=a("<div class='cTPTitle' style='left:"+w/2+"px; top:"+(h-5)+"px '>"+titleText+"</div>");a("body").append(b)},function(){a(".cTPTitle").remove()}))})};a.fn.cTPLabel=function(){return this.each(function(){label=a(this);label.data("styled")||("disabled"==a("#"+label.attr("for")).attr("disabled")&&label.addClass("cTPDisabled"),label.data("styled","1"))})};a.fn.cTP=function(){a(this).each(function(){a(":checkbox",this).cTPCheckBox();a(":radio",this).cTPRadio();a(":file",this).cTPFile();a("select",this).cTPSelect();a("label[for]",this).cTPLabel();a("form",this).on("reset",function(){var b=elem;sel=0;a("select",b).each(function(){a("a:eq("+a(this).data("index")+")",a(".select"+sel++ +" ul",b)).click()});a(":checkbox",b).each(function(){a(this).data("val")&&a("a",a(this).parent()).addClass("cTPChecked")||a("a",a(this).parent()).removeClass("cTPChecked")});a(":radio",b).each(function(){a(this).data("val")&&a("a",a(this).parent()).addClass("cTPCheckedR")||a("a",a(this).parent()).removeClass("cTPCheckedR")});a(":file",b).each(function(){a(this).val("");a(".cTPFileInput",a(this).parent()).html("&nbsp;")})});a("[title]",this).cTPTitle()})}})(jQuery);$(function(){$("body").cTP()});