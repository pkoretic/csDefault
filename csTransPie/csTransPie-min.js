(function(a){var h=function(b){a(".cTPSelectWrapper ul:visible").each(function(){var c=a(this).parents(".cTPSelectWrapper:first").find("select").get(0);(!b||!(c.oLabel&&c.oLabel.get(0)==b.get(0)))&&a(this).hide()})},j=function(b){0===a(b.target).parents(".cTPSelectWrapper").length&&h(a(b.target))},k=function(b){var c=0;a("select",b).each(function(){a("a:eq("+a(this).data("index")+")",a(".select"+c++ +" ul",b)).click()});a("input:checkbox",b).each(function(){a(this).data("val")&&a("a",a(this).parent()).addClass("cTPChecked")||
a("a",a(this).parent()).removeClass("cTPChecked")});a("input:radio",b).each(function(){a(this).data("val")&&a("a",a(this).parent()).addClass("cTPCheckedR")||a("a",a(this).parent()).removeClass("cTPCheckedR")})};a.fn.cTPCheckBox=function(){return this.each(function(){var b=a(this);b.data("val",this.checked);var c=a('<a href="#" class="cTPCheckbox"></a>');b.addClass("cTPHidden").wrap('<span class="cTPCheckboxWrapper"></span>').parent().prepend(c);this.checked&&c.addClass("cTPChecked");a("label[for="+
b.attr("id")+"]").css("cursor","pointer");a("label[for="+b.attr("id")+"]").on("click",function(){b.click();return!1});c.on("click",function(){b.click();return!1});b.on("click",function(){if(b.attr("disabled"))return!1;!this.checked&&c.addClass("cTPChecked")||c.removeClass("cTPChecked")})})};a.fn.cTPTitle=function(){return this.each(function(){title=a(this);var b=title.offset(),c=title.outerWidth(),e=title.attr("title");title.attr("title","").after('<span class="cTPTitle">'+e+"</span>");title.hover(function(){title.next().css({top:b.top+
"px",left:b.left+c+"px",display:"inline"})},function(){title.next().css("display","none")})})};a.fn.cTPRadio=function(){return this.each(function(){var b=a(this);b.data("val",this.checked);var c=a('<a href="#" class="cTPRadio" rel="'+this.name+'"></a>');b.addClass("cTPHidden").wrap('<span class="cTPRadioWrapper"></span>').parent().prepend(c);this.checked&&c.addClass("cTPCheckedR");a("label[for="+b.attr("id")+"]").css("cursor","pointer");a("label[for="+b.attr("id")+"]").on("click",function(){b.click();
return!1});c.on("click",function(){b.click();return!1});b.on("click",function(){if(b.attr("disabled"))return!1;!this.checked&&c.addClass("cTPCheckedR");a('input[name="'+b.attr("name")+'"]',this.form).not(b).each(function(){"radio"==a(this).attr("type")&&a(this).prev().removeClass("cTPCheckedR")})})})};a.fn.cTPSelect=function(){var b=0;return this.each(function(c){var e=a(this);if(!e.attr("multiple")){var f=e.addClass("cTPHidden").wrap('<div class="cTPSelectWrapper select'+b++ +'"></div>').parent().css({zIndex:100-
c});f.prepend('<div><span></span><a href="#" class="cTPSelectOpen">&#9660;</a></div><ul></ul>');var d=a("ul",f).css("width",e.width()).hide();a("option",this).each(function(b){b=a('<li><a href="#" index="'+b+'">'+a(this).html()+"</a></li>");d.append(b)});d.find("a").on("click",function(){a("a.selected",f).removeClass("selected");a(this).addClass("selected");e[0].selectedIndex!=a(this).attr("index")&&(e[0].selectedIndex=a(this).attr("index"),a(e[0]).trigger("change"));e[0].selectedIndex=a(this).attr("index");
a("span:eq(0)",f).html(a(this).html());d.hide();return!1});e.data("index",this.selectedIndex);a("a:eq("+this.selectedIndex+")",d).click();a("span:first",f).on("click",function(){a("a.cTPSelectOpen",f).click()});var g=a("a.cTPSelectOpen",f).on("click",function(){"none"==d.css("display")&&h();if(e.attr("disabled"))return!1;d.slideToggle("fast",function(){var b=a("a.selected",d).offset().top-d.offset().top;d.animate({scrollTop:b})});return!1}),c=e.outerWidth()+20,i=a("span:first",f),g=c>i.innerWidth()?
c+g.outerWidth():f.width();f.css("width",g);d.css("width",g);i.css({width:c});d.css({display:"block",visibility:"hidden"});c=a("li",d).length*a("li:first",d).height();c<d.height()&&d.css({height:c,overflow:"hidden"});d.css({display:"none",visibility:"visible"})}})};a.fn.cTP=function(){a(".transpie input:checkbox, input:checkbox.transpie").cTPCheckBox();a(".transpie input:radio, input:radio.transpie").cTPRadio();a(".transpie [title], [title].transpie").cTPTitle();0<a(".transpie select, select.transpie").cTPSelect().length&&
a(document).mousedown(j);a("form",this).on("reset",function(){k(this)})}})(jQuery);$(function(){$(".transpie").cTP()});