(function(a){var b=function(b){var c=a(".cTPSelectWrapper ul:visible");c.each(function(){var c=a(this).parents(".cTPSelectWrapper:first").find("select").get(0);(!b||!c.oLabel||c.oLabel.get(0)!=b.get(0))&&a(this).hide()})},c=function(c){a(c.target).parents(".cTPSelectWrapper").length===0&&b(a(c.target))},d=function(){a(document).mousedown(c)},e=function(b){var c=0;a("select",b).each(function(){a("a:eq("+a(this).data("index")+")",a(".select"+c++ +" ul",b)).click()}),a("input:checkbox",b).each(function(){a(this).data("val")&&a("a",a(this).parent()).addClass("cTPChecked")||a("a",a(this).parent()).removeClass("cTPChecked")}),a("input:radio",b).each(function(){a(this).data("val")&&a("a",a(this).parent()).addClass("cTPCheckedR")||a("a",a(this).parent()).removeClass("cTPCheckedR")})};a.fn.cTPCheckBox=function(){return this.each(function(){var b=a(this);b.data("val",this.checked);var c=a('<a href="#" class="cTPCheckbox"></a>');b.addClass("cTPHidden").wrap('<span class="cTPCheckboxWrapper"></span>').parent().prepend(c),this.checked&&c.addClass("cTPChecked"),a("label[for="+b.attr("id")+"]").css("cursor","pointer"),a("label[for="+b.attr("id")+"]").on("click",function(){return b.click(),!1}),c.on("click",function(){return b.click(),!1}),b.on("click",function(){if(b.attr("disabled"))return!1;!this.checked&&c.addClass("cTPChecked")||c.removeClass("cTPChecked")})})},a.fn.cTPRadio=function(){return this.each(function(){var b=a(this);b.data("val",this.checked);var c=a('<a href="#" class="cTPRadio" rel="'+this.name+'"></a>');b.addClass("cTPHidden").wrap('<span class="cTPRadioWrapper"></span>').parent().prepend(c),this.checked&&c.addClass("cTPCheckedR"),a("label[for="+b.attr("id")+"]").css("cursor","pointer"),a("label[for="+b.attr("id")+"]").on("click",function(){return b.click(),!1}),c.on("click",function(){return b.click(),!1}),b.on("click",function(){if(b.attr("disabled"))return!1;!this.checked&&c.addClass("cTPCheckedR"),a('input[name="'+b.attr("name")+'"]',this.form).not(b).each(function(){a(this).attr("type")=="radio"&&a(this).prev().removeClass("cTPCheckedR")})})})},a.fn.cTPSelect=function(){var c=0;return this.each(function(d){var e=a(this);if(e.attr("multiple"))return;var f=e.addClass("cTPHidden").wrap('<div class="cTPSelectWrapper select'+c++ +'"></div>').parent().css({zIndex:100-d});f.prepend('<div><span></span><a href="#" class="cTPSelectOpen">&#9660;</a></div><ul></ul>');var g=a("ul",f).css("width",e.width()).hide();a("option",this).each(function(b){var c=a('<li><a href="#" index="'+b+'">'+a(this).html()+"</a></li>");g.append(c)}),g.find("a").on("click",function(){return a("a.selected",f).removeClass("selected"),a(this).addClass("selected"),e[0].selectedIndex!=a(this).attr("index")&&(e[0].selectedIndex=a(this).attr("index"),a(e[0]).trigger("change")),e[0].selectedIndex=a(this).attr("index"),a("span:eq(0)",f).html(a(this).html()),g.hide(),!1}),e.data("index",this.selectedIndex),a("a:eq("+this.selectedIndex+")",g).click(),a("span:first",f).on("click",function(){a("a.cTPSelectOpen",f).click()});var h=a("a.cTPSelectOpen",f).on("click",function(){return g.css("display")=="none"&&b(),e.attr("disabled")?!1:(g.slideToggle("fast",function(){var b=a("a.selected",g).offset().top-g.offset().top;g.animate({scrollTop:b})}),!1)}),i=e.outerWidth()+20,j=a("span:first",f),k=i>j.innerWidth()?i+h.outerWidth():f.width();f.css("width",k),g.css("width",k),j.css({width:i}),g.css({display:"block",visibility:"hidden"});var l=a("li",g).length*a("li:first",g).height();l<g.height()&&g.css({height:l,overflow:"hidden"}),g.css({display:"none",visibility:"visible"})})},a.fn.cTP=function(){a(".transpie input:checkbox, input:checkbox.transpie").cTPCheckBox(),a(".transpie input:radio, input:radio.transpie").cTPRadio(),a(".transpie select, select.transpie").cTPSelect().length>0&&d(),a("form",this).on("reset",function(){e(this)})}})(jQuery),$(function(){$(".transpie").cTP()})